<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Kindle 也有自己的 Magisk 模块 | Bluempty</title>
<meta name=keywords content="硬件,Linux"><meta name=description content="上个月刚好有新的越狱漏洞，于是趁着还没修复，把手里的 kpw5 越狱了。
众所周知，Kindle 中国已经关门大吉了，虽然我现在是美亚账号，但是也不排除以后 Amazon 限制个人文档服务的可能。
趁着闲下来的时间，了解了下 Kindle 越狱插件，看以后能不能自建同步服务。"><meta name=author content="hypengw"><link rel=canonical href=https://blog.bluempty.com/post/kindle-module/><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.bluempty.com/images/profile.webp><link rel=icon type=image/png sizes=16x16 href=https://blog.bluempty.com/images/profile.webp><link rel=icon type=image/png sizes=32x32 href=https://blog.bluempty.com/images/profile.webp><link rel=apple-touch-icon href=https://blog.bluempty.com/apple-touch-icon.png><link rel=mask-icon href=https://blog.bluempty.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://blog.bluempty.com/post/kindle-module/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=/css/dimbox.min.css><meta property="og:url" content="https://blog.bluempty.com/post/kindle-module/"><meta property="og:site_name" content="Bluempty"><meta property="og:title" content="Kindle 也有自己的 Magisk 模块"><meta property="og:description" content="上个月刚好有新的越狱漏洞，于是趁着还没修复，把手里的 kpw5 越狱了。
众所周知，Kindle 中国已经关门大吉了，虽然我现在是美亚账号，但是也不排除以后 Amazon 限制个人文档服务的可能。
趁着闲下来的时间，了解了下 Kindle 越狱插件，看以后能不能自建同步服务。"><meta property="og:locale" content="zh-hans"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2025-02-17T21:25:18+08:00"><meta property="article:modified_time" content="2025-02-17T21:25:18+08:00"><meta property="article:tag" content="硬件"><meta property="article:tag" content="Linux"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kindle 也有自己的 Magisk 模块"><meta name=twitter:description content="上个月刚好有新的越狱漏洞，于是趁着还没修复，把手里的 kpw5 越狱了。
众所周知，Kindle 中国已经关门大吉了，虽然我现在是美亚账号，但是也不排除以后 Amazon 限制个人文档服务的可能。
趁着闲下来的时间，了解了下 Kindle 越狱插件，看以后能不能自建同步服务。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.bluempty.com/post/"},{"@type":"ListItem","position":2,"name":"Kindle 也有自己的 Magisk 模块","item":"https://blog.bluempty.com/post/kindle-module/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Kindle 也有自己的 Magisk 模块","name":"Kindle 也有自己的 Magisk 模块","description":"上个月刚好有新的越狱漏洞，于是趁着还没修复，把手里的 kpw5 越狱了。\n众所周知，Kindle 中国已经关门大吉了，虽然我现在是美亚账号，但是也不排除以后 Amazon 限制个人文档服务的可能。\n趁着闲下来的时间，了解了下 Kindle 越狱插件，看以后能不能自建同步服务。\n","keywords":["硬件","Linux"],"articleBody":"上个月刚好有新的越狱漏洞，于是趁着还没修复，把手里的 kpw5 越狱了。\n众所周知，Kindle 中国已经关门大吉了，虽然我现在是美亚账号，但是也不排除以后 Amazon 限制个人文档服务的可能。\n趁着闲下来的时间，了解了下 Kindle 越狱插件，看以后能不能自建同步服务。\nKUAL Kindle Unified Application Launcher\nsource\n就像它的名字说的，是用来启动应用的。\nextension 插件/模块 目录结构：\n└── extensions ├── ext_1 │ ├── config.xml │ ├── menu.json │ └── ... └── ext_2 ├── config.xml ├── menu.json └── ... 相关 README\nconfig.xml \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e name 1.0 author id ","wordCount":"1209","inLanguage":"zh","datePublished":"2025-02-17T21:25:18+08:00","dateModified":"2025-02-17T21:25:18+08:00","author":{"@type":"Person","name":"hypengw"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.bluempty.com/post/kindle-module/"},"publisher":{"@type":"Organization","name":"Bluempty","logo":{"@type":"ImageObject","url":"https://blog.bluempty.com/images/profile.webp"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.bluempty.com/ accesskey=h title="Bluempty (Alt + H)">Bluempty</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://blog.bluempty.com/en/ title=En aria-label=En>En</a></li></ul></div></div><ul id=menu><li><a href=https://blog.bluempty.com/archives/ title=归档><span>归档</span></a></li><li><a href=https://blog.bluempty.com/tags/ title=标签><span>标签</span></a></li><li><a href=https://blog.bluempty.com/search/ title=搜索><span>搜索</span></a></li><li><a href=https://blog.bluempty.com/friends/ title=友链><span>友链</span></a></li><li><a href=https://blog.bluempty.com/about/ title=关于><span>关于</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.bluempty.com/>主页</a>&nbsp;»&nbsp;<a href=https://blog.bluempty.com/post/>Posts</a></div><h1 class="post-title entry-hint-parent">Kindle 也有自己的 Magisk 模块</h1><div class=post-meta><span title='2025-02-17 21:25:18 +0800 +0800'>二月 17, 2025</span>&nbsp;·&nbsp;3 分钟&nbsp;·&nbsp;hypengw</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#kualhttpswwwmobilereadcomforumsshowthreadphpt203326 aria-label=KUAL>KUAL</a><ul><li><a href=#extension-%e6%8f%92%e4%bb%b6%e6%a8%a1%e5%9d%97 aria-label="extension 插件/模块">extension 插件/模块</a><ul><li><a href=#configxml aria-label=config.xml>config.xml</a></li><li><a href=#menujson aria-label=menu.json>menu.json</a></li></ul></li><li><a href=#%e8%b6%8a%e7%8b%b1 aria-label=越狱>越狱</a></li><li><a href=#kindle-modding-wikihttpskindlemoddingorg aria-label="Kindle Modding Wiki">Kindle Modding Wiki</a></li></ul></li><li><a href=#kindlekpw5-%e7%b3%bb%e7%bb%9f%e7%8e%af%e5%a2%83 aria-label="Kindle(kpw5) 系统环境">Kindle(kpw5) 系统环境</a><ul><li><a href=#armv5-armv6-armv7-armhf-%e7%9a%84%e5%8c%ba%e5%88%ab aria-label="armv5 armv6 armv7 armhf 的区别">armv5 armv6 armv7 armhf 的区别</a></li></ul></li><li><a href=#%e5%bc%80%e5%8f%91%e7%8e%af%e5%a2%83 aria-label=开发环境>开发环境</a><ul><li><a href=#gcc aria-label=gcc>gcc</a></li><li><a href=#go aria-label=go>go</a></li><li><a href=#rust aria-label=rust>rust</a></li></ul></li><li><a href=#%e6%88%91%e7%bb%b4%e6%8a%a4%e7%9a%84%e6%8f%92%e4%bb%b6 aria-label=我维护的插件>我维护的插件</a></li></ul></div></details></div><div class=post-content><p>上个月刚好有新的越狱漏洞，于是趁着还没修复，把手里的 kpw5 越狱了。<br>众所周知，Kindle 中国已经关门大吉了，虽然我现在是美亚账号，但是也不排除以后 Amazon 限制个人文档服务的可能。<br>趁着闲下来的时间，了解了下 Kindle 越狱插件，看以后能不能自建同步服务。</p><h2 id=kualhttpswwwmobilereadcomforumsshowthreadphpt203326><a href="https://www.mobileread.com/forums/showthread.php?t=203326">KUAL</a><a hidden class=anchor aria-hidden=true href=#kualhttpswwwmobilereadcomforumsshowthreadphpt203326>#</a></h2><p>Kindle Unified Application Launcher<br><a href=https://bitbucket.org/ixtab/kindlelauncher/src/master/>source</a><br>就像它的名字说的，是用来启动应用的。</p><p><a href=https://pan.bluempty.com/d/Public/Blog/kindle-module/kual.webp data-dimbox data-dimbox-caption="Kindle Neofetch"><img alt="Kindle Neofetch" height=% loading=lazy src=https://pan.bluempty.com/d/Public/Blog/kindle-module/kual.webp width=%></a></p><h3 id=extension-插件模块>extension 插件/模块<a hidden class=anchor aria-hidden=true href=#extension-插件模块>#</a></h3><p>目录结构：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>└── extensions
</span></span><span class=line><span class=cl>    ├── ext_1
</span></span><span class=line><span class=cl>    │   ├── config.xml
</span></span><span class=line><span class=cl>    │   ├── menu.json
</span></span><span class=line><span class=cl>    │   └── ...
</span></span><span class=line><span class=cl>    └── ext_2
</span></span><span class=line><span class=cl>        ├── config.xml
</span></span><span class=line><span class=cl>        ├── menu.json
</span></span><span class=line><span class=cl>        └── ...
</span></span></code></pre></div><p>相关 <a href=https://bitbucket.org/ixtab/kindlelauncher/src/master/src/com/mobileread/ixtab/kindlelauncher/resources/aloop/README-dev.txt>README</a></p><h4 id=configxml><code>config.xml</code><a hidden class=anchor aria-hidden=true href=#configxml>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;extension&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;information&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;name&gt;</span>name<span class=nt>&lt;/name&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;version&gt;</span>1.0<span class=nt>&lt;/version&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;author&gt;</span>author<span class=nt>&lt;/author&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;id&gt;</span>id<span class=nt>&lt;/id&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/information&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;menus&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;menu</span> <span class=na>type=</span><span class=s>&#34;json&#34;</span><span class=nt>&gt;</span>menu.json<span class=nt>&lt;/menu&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/menus&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/extension&gt;</span>
</span></span></code></pre></div><h4 id=menujson><code>menu.json</code><a hidden class=anchor aria-hidden=true href=#menujson>#</a></h4><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Application 1 menu&#34;</span>
</span></span><span class=line><span class=cl>  <span class=s2>&#34;items&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span><span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Application 1 menu, Item 1&#34;</span><span class=p>,</span> <span class=nt>&#34;action&#34;</span><span class=p>:</span> <span class=s2>&#34;act1.sh&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Application 1 menu, Submenu 1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>       <span class=nt>&#34;items&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>         <span class=p>{</span><span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Application 1 menu, Submenu 1, Item 1&#34;</span><span class=p>,</span> <span class=nt>&#34;action&#34;</span><span class=p>:</span> <span class=s2>&#34;act11.sh&#34;</span><span class=p>},</span>
</span></span><span class=line><span class=cl>         <span class=p>{</span><span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Application 1 menu, Submenu 1, Item 2&#34;</span><span class=p>,</span> <span class=nt>&#34;action&#34;</span><span class=p>:</span> <span class=s2>&#34;act12.sh&#34;</span><span class=p>}</span>
</span></span><span class=line><span class=cl>       <span class=p>]</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=越狱>越狱<a hidden class=anchor aria-hidden=true href=#越狱>#</a></h3><p><a href=https://bookfere.com/post/1145.html>2025 Kindle 越狱教程：不限 Kindle 型号，不限固件版本</a></p><h3 id=kindle-modding-wikihttpskindlemoddingorg><a href=https://kindlemodding.org/>Kindle Modding Wiki</a><a hidden class=anchor aria-hidden=true href=#kindle-modding-wikihttpskindlemoddingorg>#</a></h3><p>This is the Kindle Modding wiki, an online resource which hopes to consolidate all Kindle Modding knowledge into a centralised resource.</p><h2 id=kindlekpw5-系统环境>Kindle(kpw5) 系统环境<a hidden class=anchor aria-hidden=true href=#kindlekpw5-系统环境>#</a></h2><p><a href=https://pan.bluempty.com/d/Public/Blog/kindle-module/neofetch.webp data-dimbox data-dimbox-caption="Kindle Neofetch"><img alt="Kindle Neofetch" height=% loading=lazy src=https://pan.bluempty.com/d/Public/Blog/kindle-module/neofetch.webp width=%></a></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-txt data-lang=txt><span class=line><span class=cl>OS: Linux 4.9.77-lab126 armv7l 
</span></span><span class=line><span class=cl>CPU: MT8110 Bellatrix device 
</span></span><span class=line><span class=cl>GLIBC: 2.20
</span></span><span class=line><span class=cl>LD: /lib/ld-linux-armhf.so.3
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>[root@kindle root]# cat /etc/ld.so.conf 
</span></span><span class=line><span class=cl>/usr/java/lib
</span></span><span class=line><span class=cl>/app/lib
</span></span><span class=line><span class=cl>/usr/lib/lua
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>[root@kindle root]# mount | grep tmpfs
</span></span><span class=line><span class=cl>tmpfs on /dev type tmpfs (rw,relatime,mode=755)
</span></span><span class=line><span class=cl>tmpfs on /dev/shm type tmpfs (rw,relatime)
</span></span><span class=line><span class=cl>tmpfs on /var type tmpfs (rw,relatime,size=65536k)
</span></span><span class=line><span class=cl>tmpfs on /mnt/kfxcache type tmpfs (rw,relatime,size=256000k)
</span></span><span class=line><span class=cl>cgroup_root on /sys/fs/cgroup type tmpfs (rw,relatime)
</span></span><span class=line><span class=cl>tmpfs on /chroot/dev type tmpfs (rw,relatime,mode=755)
</span></span><span class=line><span class=cl>tmpfs on /chroot/var/cache type tmpfs (rw,relatime,size=65536k)
</span></span><span class=line><span class=cl>tmpfs on /chroot/var/lock type tmpfs (rw,relatime,size=65536k)
</span></span><span class=line><span class=cl>tmpfs on /chroot/var/run type tmpfs (rw,relatime,size=65536k)
</span></span><span class=line><span class=cl>tmpfs on /chroot/tmp/session_token type tmpfs (rw,relatime,size=65536k)
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>[root@kindle 4.9.77-lab126]# lsmod
</span></span><span class=line><span class=cl>Module                  Size  Used by
</span></span><span class=line><span class=cl>g_mass_storage          2340  0 
</span></span><span class=line><span class=cl>wmt_cdev_bt            17908  0 
</span></span><span class=line><span class=cl>wlan_drv_gen4m       1792220  0 
</span></span><span class=line><span class=cl>wmt_chrdev_wifi        11440  1 wlan_drv_gen4m
</span></span><span class=line><span class=cl>wmt_drv               965568  4 wmt_cdev_bt,wlan_drv_gen4m,wmt_chrdev_wifi
</span></span><span class=line><span class=cl>usb_f_mass_storage     32216  2 g_mass_storage
</span></span><span class=line><span class=cl>libcomposite           32776  2 g_mass_storage,usb_f_mass_storage
</span></span><span class=line><span class=cl>configfs               20880  3 usb_f_mass_storage,libcomposite
</span></span><span class=line><span class=cl>pt_i2c                  4448  0 
</span></span><span class=line><span class=cl>pt                    146584  2 pt_i2c
</span></span><span class=line><span class=cl>opt3001                11908  1 
</span></span><span class=line><span class=cl>falcon                 31568  0 [permanent]
</span></span><span class=line><span class=cl>hwtcon_v2             142808  3
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>[root@kindle root]# xwininfo -tree -root
</span></span><span class=line><span class=cl>xwininfo: Window id: 0x51 (the root window) (has no name)
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>     children:
</span></span><span class=line><span class=cl>     &#34;Webreader&#34;
</span></span><span class=line><span class=cl>     &#34;Pillowd&#34;
</span></span><span class=line><span class=cl>     &#34;KPPMainApp&#34;
</span></span><span class=line><span class=cl>     &#34;Mesquite&#34;
</span></span><span class=line><span class=cl>     &#34;Kfxreader&#34;
</span></span><span class=line><span class=cl>     &#34;Kb&#34;
</span></span><span class=line><span class=cl>     &#34;JunoStatusBarDriver&#34;
</span></span><span class=line><span class=cl>     &#34;L:A_N:application_ID:com.lab126.booklet.home_M:false_PC:TSB_RC:true_WT:true_ASR:true_O:U&#34;
</span></span><span class=line><span class=cl>     &#34;L:D_N:overlay_AKB:true_HIDET1:200_ID:system_A:QuickSettingsWindow_LB:ON_M:dismissible_CD:true_S:-1_KIWI:com.lab126.kppQuickSettings_SHOWT1:250&#34;: (&#34;KPPMainApp&#34; &#34;KPPMainApp&#34;)
</span></span><span class=line><span class=cl>     &#34;L:A_N:application_AKB:true_ASR:true_ID:com.lab126.krpp_A:mainWindow_WS:true_WT:true_PC:N_ALS:com.lab126.booklet.reader_O:UDLR_SHOWT1:70_S:-2&#34;: (&#34;KPPMainApp&#34; &#34;KPPMainApp&#34;)
</span></span><span class=line><span class=cl>     &#34;L:D_N:overlay_AKB:true_HIDET1:150_RKB:default_ID:system_A:kppFullScreenSearch_M:dismissible_PAIRID:JunoStatusBarWindow_S:-1_KIWI:com.lab126.KPPMainApp_SHOWT1:50&#34;: (&#34;KPPMainApp&#34; &#34;KPPMainApp&#34;)
</span></span><span class=line><span class=cl>     &#34;L:D_N:overlay_AKB:true_CD:true_FH:S_ID:com.lab126.kppContextMenu_A:ChromeContextMenu_LB:OFF_owner:com.lab126.KPPMainApp_M:dismissible_S:-1_SHOWT1:0_KIWI:com.lab126.KPPMainApp_HIDET1:80&#34;: (&#34;KPPMainApp&#34; &#34;KPPMainApp&#34;)
</span></span><span class=line><span class=cl>     &#34;L:SS_N:screenSaver_FH:F_module:screensaver_ID:blanket-screensaver_FS:F_O:U&#34;
</span></span><span class=line><span class=cl>     &#34;L:C_N:titleBar_PAIRID:JunoStatusBarWindow_KIWI:com.lab126.gtkstatusbar_HIDET1:50_ID:system_A:titleBar&#34;: (&#34;JunoStatusBarDriver&#34; &#34;JunoStatusBarDriver&#34;)
</span></span><span class=line><span class=cl>     &#34;L:A_N:application_AKB:true_ASR:true_ID:com.lab126.KPPMainApp_A:KPPMainApp_WS:true_WT:true_PC:T_O:UD_SHOWT1:200_S:-1&#34;: (&#34;KPPMainApp&#34; &#34;KPPMainApp&#34;)
</span></span><span class=line><span class=cl>     &#34;L:A_N:application_ID:com.lab126.booklet.reader_M:false_PC:N_RC:true_WT:true_ASR:true_O:URL_WTNB:true_WTPB:true_DM:N_S:-7&#34;
</span></span><span class=line><span class=cl>     &#34;L:A_N:application_module:blankwindow_ID:blankBackground_WS:true&#34;
</span></span><span class=line><span class=cl>     &#34;L:C_N:searchBar_A:kppTopChrome_KIWI:com.lab126.KPPMainApp_AKB:true_S:-1_SHOWT1:30_ID:system_HIDET1:50&#34;: (&#34;KPPMainApp&#34; &#34;KPPMainApp&#34;)
</span></span><span class=line><span class=cl>     &#34;L:KB_N:keyboard_DMINSETRIGHT:5_DM:KB_DMINSETLEFT:5_KBS:H_DMINSETTOP:84_LanH:567_PorH:567_DMINSETBOTTOM:5&#34;: (&#34;kb&#34; &#34;Kb&#34;)
</span></span><span class=line><span class=cl>     &#34;L:A_N:application_HIDE:background_S:1500_PC:TS_ID:com.lab126.store_O:U&#34;: (&#34;mesquite&#34; &#34;Mesquite&#34;)
</span></span><span class=line><span class=cl>     &#34;L:C_N:bottomBar_KIWI:com.lab126.KPPMainApp_AKB:true_S:-1_SHOWT1:50_ID:system_A:kppBottomChrome&#34;: (&#34;KPPMainApp&#34; &#34;KPPMainApp&#34;)
</span></span></code></pre></div><h3 id=armv5-armv6-armv7-armhf-的区别>armv5 armv6 armv7 armhf 的区别<a hidden class=anchor aria-hidden=true href=#armv5-armv6-armv7-armhf-的区别>#</a></h3><p>Kindle 在 5.16.3 固件版本后，切换到了 armhf(hard float)，这直接影响到了 c abi，包括 ld 也变成了 <code>/lib/ld-linux-armhf.so.3</code>，无法和原来的 armel 程序兼容。</p><ul><li>架构版本维度<ul><li>armv5：经典 ARM9 处理器架构</li><li>armv6：ARM11 系列</li><li>armv7：Cortex-A 系列</li><li>armv8：64 位 ARM 架构</li></ul></li><li>ABI 应用二进制接口维度<ul><li>armel (ARM EABI)：使用软浮点（软件模拟浮点运算）</li><li>armhf (ARM Hard Float)：使用硬浮点（直接调用 FPU 单元）</li></ul></li></ul><table><thead><tr><th style=text-align:left>架构</th><th style=text-align:left>主要 CPU</th><th style=text-align:left>指令集</th><th style=text-align:left>SIMD/NEON</th><th style=text-align:left>浮点运算</th><th style=text-align:left>典型设备</th></tr></thead><tbody><tr><td style=text-align:left><strong>ARMv5</strong></td><td style=text-align:left>ARM9, ARM10</td><td style=text-align:left>ARM, Thumb</td><td style=text-align:left>❌</td><td style=text-align:left>❌（仅软件模拟）</td><td style=text-align:left>旧款路由器、嵌入式系统</td></tr><tr><td style=text-align:left><strong>ARMv6</strong></td><td style=text-align:left>ARM11</td><td style=text-align:left>ARM, Thumb-2</td><td style=text-align:left>❌</td><td style=text-align:left>VFP（可选）</td><td style=text-align:left>树莓派 1、早期智能手机</td></tr><tr><td style=text-align:left><strong>ARMv7</strong></td><td style=text-align:left>Cortex-A8/A9/A15</td><td style=text-align:left>ARM, Thumb-2</td><td style=text-align:left>✅（NEON）</td><td style=text-align:left>✅（VFPv3）</td><td style=text-align:left>树莓派 2/3、智能手机</td></tr></tbody></table><h2 id=开发环境>开发环境<a hidden class=anchor aria-hidden=true href=#开发环境>#</a></h2><blockquote><p>最终的 <a href=https://github.com/hypengw/dockerfiles/tree/main/kindle>Dockerfile 仓库</a></p></blockquote><p>珍爱生命，远离交叉编译。<br>我选择用 <code>qemu</code> 来跑 <code>arm</code> 的容器，具体来说，是通过 <code>binfmt</code> 实现的。<br>接下来就是选能用的发行版，对于这种非主流架构的 cpu，还得是 debian。<br>然后就是能对上 <code>glibc</code> 版本的分支，要退到 Debian 8(jessie), released on 2015。<code>jessie</code> 的 <code>glibc</code> 版本是 <code>2.19</code>，满足 <code>&lt;=2.20</code> 的要求。</p><p>这里给一个 Dockerfile 的开头，需要安装 <code>qemu-user-static-arm</code> 和 <code>qemu-user-static-binfmt</code>, 并让 <code>binfmt</code> 在后台运行。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-Dockerfile data-lang=Dockerfile><span class=line><span class=cl><span class=k>FROM</span><span class=s> --platform=linux/arm/v7 debian:jessie</span><span class=err>
</span></span></span><span class=line><span class=cl><span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span><span class=k>RUN</span> <span class=nb>echo</span> <span class=s2>&#34;\n\
</span></span></span><span class=line><span class=cl><span class=s2>deb [check-valid-until=no] http://archive.debian.org/debian jessie main\n\
</span></span></span><span class=line><span class=cl><span class=s2>deb [check-valid-until=no] http://archive.debian.org/debian-security jessie/updates main\n\
</span></span></span><span class=line><span class=cl><span class=s2>deb [check-valid-until=no] http://archive.debian.org/debian jessie-backports main\n\
</span></span></span><span class=line><span class=cl><span class=s2>deb [check-valid-until=no] http://archive.debian.org/debian jessie-backports-sloppy main\n\
</span></span></span><span class=line><span class=cl><span class=s2>&#34;</span> &gt; /etc/apt/sources.list<span class=err>
</span></span></span><span class=line><span class=cl><span class=err></span>...<span class=err>
</span></span></span></code></pre></div><p>可以用 <code>cat /proc/sys/fs/binfmt_misc/qemu-arm</code> 来看 <code>binfmt</code> 是否正常工作，会有类似输出:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>enabled
</span></span><span class=line><span class=cl>interpreter /usr/bin/qemu-arm-static
</span></span><span class=line><span class=cl>flags: F
</span></span><span class=line><span class=cl>offset 0
</span></span><span class=line><span class=cl>magic 7f454c4601010100000000000000000002002800
</span></span><span class=line><span class=cl>mask ffffffffffffff00fffffffffffffffffeffffff
</span></span></code></pre></div><h3 id=gcc>gcc<a hidden class=anchor aria-hidden=true href=#gcc>#</a></h3><p><code>jessie</code> 仓库里最新的 <code>gcc</code> 版本是 <code>4.9</code>, 相当老。<br>对于 c 项目，可能会在一些编译选项上报错。<br>对于 c++ 的项目，<code>4.x</code> 勉强支持到 <code>c++ 14</code> 标准，要编译新点的项目，建议还是自行编译新版的 <code>gcc</code>。考虑到 <code>libstdc++</code> 的兼容问题，这里不建议用太高的版本，比如 <code>12/13..</code>，可能会有坑。</p><h3 id=go>go<a hidden class=anchor aria-hidden=true href=#go>#</a></h3><p>go 提供了 <code>arm</code> 通用的 <a href=https://go.dev/dl/go1.24.0.linux-armv6l.tar.gz>binary 包</a>，而且不用考虑 <code>glibc</code> 的兼容。<br>参考官方的<a href=https://go.dev/wiki/GoArm>文档</a>, 如果要指定 <code>arm7l</code> 目标，需要设置 <code>GOARCH=arm</code> 和 <code>GOARM=7</code> 两个环境变量。</p><h3 id=rust>rust<a hidden class=anchor aria-hidden=true href=#rust>#</a></h3><p>TODO</p><h2 id=我维护的插件>我维护的插件<a hidden class=anchor aria-hidden=true href=#我维护的插件>#</a></h2><ul><li>openssh server</li><li>syncthing</li></ul><p><a href=https://pan.bluempty.com/Kindle/extensions>下载</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.bluempty.com/tags/%E7%A1%AC%E4%BB%B6/>硬件</a></li><li><a href=https://blog.bluempty.com/tags/linux/>Linux</a></li></ul><nav class=paginav><a class=prev href=https://blog.bluempty.com/post/cpp-rust-trait/><span class=title>« 上一页</span><br><span>C++ 模拟 Rust Trait</span>
</a><a class=next href=https://blog.bluempty.com/post/signal-and-vector/><span class=title>下一页 »</span><br><span>信号与向量</span></a></nav></footer></article></main><footer class=footer><span>© 2025 <a href=https://blog.bluempty.com>Bluempty</a> · <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script src=/js/dimbox.min.js></script><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>